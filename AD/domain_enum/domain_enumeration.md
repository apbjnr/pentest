# Domain Enumeration

## domain enum, map trusts, relationships, privileges and various entities for the domain

### current domain

In powershell as a normal user:
```powershell
$ADClass = [System.DirectoryServices.ActiveDirctory.Domain]
$ADClass::GetCurrentDomain()
```
<br>

### built-in tools used for enum

#### Powerview
https://github.com/PowerShellMafia/PowerSploit/blob/master/Recon/PowerView.ps1

#### ActiveDirectory PowerShell module
https://docs.microsoft.com/en-us/powershell/module/addsadministration/?view=windowsserver2019-ps&viewFallbackFrom=win10-ps


#### get current domain
```powershell
Get-NetDomain   # powerview
Get-ADDomain    # AD module
```

#### get object of another domain
```powershell
Get-NetDomain -Domain sigh.local    # powerview
Get-ADDomain -Identity sigh.local   # AD module
```

#### get domain SID for current domain
```powershell
Get-DomainSId              # powerview
(Get-ADDomain).DomainSID   # AD module
```







