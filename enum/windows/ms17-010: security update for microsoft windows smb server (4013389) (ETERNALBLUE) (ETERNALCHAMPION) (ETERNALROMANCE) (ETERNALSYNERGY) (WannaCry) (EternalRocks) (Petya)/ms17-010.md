```bash
apb@stratios:$ proxychains4 /opt/nessus/bin/nasl -M -t IP -p 139 /opt/nessus/lib/nessus/plugins/ms17-010.nasl
----------[ Executing smb_v1_enabled_remote.nasl ]------
The remote host supports SMBv1.
----------[ Finished smb_v1_enabled_remote.nasl ]------

----------[ Executing /opt/nessus/lib/nessus/plugins/ms17-010.nasl ]------
ms17-010.nasl: Success
----------[ Finished /opt/nessus/lib/nessus/plugins/ms17-010.nasl ]------
```

```bash
msf > use auxiliary/scanner/smb/smb_ms17_010
msf auxiliary(scanner/smb/smb_ms17_010) > set RHOSTS IP IP IP
RHOSTS => IP IP IP
msf auxiliary(scanner/smb/smb_ms17_010) >  set proxies socks4:127.0.0.1:5699
proxies => socks4:127.0.0.1:5699
msf auxiliary(scanner/smb/smb_ms17_010) > run

[+] IP:445      - Host is likely VULNERABLE to MS17-010! - Windows Server 2012 R2 Standard 9600 x64 (64-bit)
[*] Scanned 1 of 3 hosts (33% complete)
[+] IP:445      - Host is likely VULNERABLE to MS17-010! - Windows Server 2012 R2 Standard 9600 x64 (64-bit)
[*] Scanned 2 of 3 hosts (66% complete)
[-] IP:445        - An SMB Login Error occurred while connecting to the IPC$ tree.
[*] Scanned 3 of 3 hosts (100% complete)
```

```bash
apb@stratios:~$ proxychains4 nmap -p445 --script smb-vuln-ms17-010 IP
PORT    STATE SERVICE
445/tcp open  microsoft-ds
```

```bash
msf > use auxiliary/scanner/smb/smb_ms17_010
msf auxiliary(scanner/smb/smb_ms17_010) > set rhosts IP
rhosts => IP
msf auxiliary(scanner/smb/smb_ms17_010) > set proxies socks4:127.0.0.1:5699
proxies => socks4:127.0.0.1:5699
msf auxiliary(scanner/smb/smb_ms17_010) > run

[-] IP:445     - Host does NOT appear vulnerable.
[*] Scanned 1 of 1 hosts (100% complete)
[*] Auxiliary module execution completed
```
