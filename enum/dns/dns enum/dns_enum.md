### banner grabbing
```
dig version.bind CHAOS TXT @DNS
```

```
nmap --script dns-nsid
```


### zone transfer
```
dig axfr @<dns_server> # try zone transfer without domain
dig axfr @<dns_server> <DOMAIN> # try zone transfer guessing the domain
fierce -dns <DOMAIN> # will try toperform a zone transfer against every authoritative name server and if this doesn't work,launch a dictionary attack
```


### more info
```
dig ANY @dns_server domain     		# any information
dig A @dns_server domain       		# regular DNS request
dig AAAA @dns_server domain   		# IPv6 dns request
dig TXT @dns_server domain     		# information
dig MX @dns_server domain      		# emails related
dig NS @dns_server domain      		# dns that resolves that name
dig -x 192.168.0.2 @dns_server   		# reverse lookup
dig -x 2a00:1450:400c:c06::93 @dns_server   # reverse IPv6 lookup

# use [-p port]  or  -6 (to use ivp6 address of dns)
``` 


### metasploit
```
auxiliary/gather/enum_dns #Perform enumeration actions
```


### nmap
```
nmap -n --script "(default and *dns*) or fcrdns or dns-srv-enum or dns-random-txid or dns-random-srcport" ip
```


### PTR lookups
```
dnsrecon -r 127.0.0.0/24 -n <ip_dns>  # reverse of all of the addresses
dnsrecon -r 127.0.1.0/24 -n <ip_dns>  # reverse of all of the addresses
dnsrecon -r <ip_dns>/24 -n <ip_dns>   # reverse of all of the addresses
dnsrecon -d active.htb -a -n <ip_dns> # zone transfer
```


### subdomain
```
dnsrecon -D subdomains-1000.txt -d <domain> -n <IP_dns>
dnscan -d <domain> -r -w subdomains-1000.txt #bruteforce subdomains in recursive way, https://github.com/rbsec/dnscan
```


## AD servers
```
dig -t _gc._tcp.lab.domain.com
dig -t _ldap._tcp.lab.domain.com
dig -t _kerberos._tcp.lab.domain.com
dig -t _kpasswd._tcp.lab.domain.com
nmap --script dns-srv-enum --script-args "dns-srv-enum.domain='domain.com'"
```


### dnssec
```
nmap -sSU -p53 --script dns-nsec-enum --script-args dns-nsec-enum.domains=domain dns_server
```


### ipv6
```
dnsdict6 -s -t <domain>  # bruteforce reverse dns in using IPv6 addresses
```

### config files
```
host.conf
resolv.conf
named.conf
```






